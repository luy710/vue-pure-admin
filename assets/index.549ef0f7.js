import{d as Te,q as v,aj as R,p as a,A as e,cf as Ce,ce as Me,o as W,l as z,ar as M,an as ne,aA as L,t as le,n as _,x as Ee,aB as ke}from"./vendor.72e9813d.js";const xe=()=>{window.cancelAnimationFrame=(()=>window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.oCancelAnimationFrame||window.msCancelAnimationFrame||function(r){return window.clearTimeout(r)})(),window.requestAnimationFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(r){return window.setTimeout(r,1e3/60)}}()},Be=(r,m)=>{if(r===m)return!0;if(r.length!==m.length)return!1;for(let u=0;u<r.length;++u)if(r[u]!==m[u])return!1;return!0};function oe(){Array.isArray||(Array.isArray=function(g){return Object.prototype.toString.call(g)==="[object Array]"});let r,m,u,c,S,C,t=1,i=arguments[0]||{},f=!1,b=arguments.length;if(typeof i=="boolean"&&(f=i,i=arguments[1]||{},t++),typeof i!="object"&&typeof i!="function"&&(i={}),t===b)return i;for(;t<b;t++)if((m=arguments[t])!=null)for(r in m)u=i[r],c=m[r],S=Array.isArray(c),f&&c&&(typeof c=="object"||S)?(S?(S=!1,C=u&&Array.isArray(u)?u:[]):C=u&&typeof u=="object"?u:{},i[r]=oe(f,C,c)):c!==void 0&&(i[r]=c);return i}var De=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",animationFrame:xe,arrayEqual:Be,copyObj:oe});const Oe=["innerHTML"],Y=Te({props:{data:{type:Array},classOption:{type:Object}},emits:["scrollEnd"],setup(r,{expose:m,emit:u}){const c=r,{animationFrame:S,copyObj:C}=De;S();let t=v(0),i=v(0),f=v(0),b=v(0),g=v(0),A=v(0),E=v(0),k=v(""),y=null,N=null,x=null,I=null,U=null,B=!1,D="ease-in",{classOption:h}=c;h.key===void 0&&(h.key=0);const X=R(`wrap${h.key}`,null),V=R(`slotList${h.key}`,null),G=R(`realBox${h.key}`,null);let J=a(()=>e(t)<0),K=a(()=>Math.abs(e(t))<e(A)-e(g)),ae=a(()=>({step:1,limitMoveNum:5,hoverStop:!0,direction:"top",openTouch:!0,singleHeight:0,singleWidth:0,waitTime:1e3,switchOffset:30,autoPlay:!0,navigation:!1,switchSingleStep:134,switchDelay:400,switchDisabledClass:"disabled",isSingleRemUnit:!1})),l=a(()=>C({},e(ae),h));const re=a(()=>e(J)?"":e(l).switchDisabledClass);let se=a(()=>e(K)?"":e(l).switchDisabledClass),ue=a(()=>({position:"absolute",margin:`${e(b)/2}px 0 0 -${e(l).switchOffset}px`,transform:"translate(-100%,-50%)"})),ce=a(()=>({position:"absolute",margin:`${e(b)/2}px 0 0 ${e(g)+e(l).switchOffset}px`,transform:"translateY(-50%)"})),O=a(()=>e(l).direction!=="bottom"&&e(l).direction!=="top"),Q=a(()=>e(O)?{float:"left",overflow:"hidden"}:{overflow:"hidden"}),fe=a(()=>({transform:`translate(${e(t)}px,${e(i)}px)`,transition:`all ${D} ${e(f)}ms`,overflow:"hidden"})),$=a(()=>e(l).navigation),j=a(()=>e($)?!1:e(l).autoPlay),Z=a(()=>c.data.length>=e(l).limitMoveNum),ee=a(()=>e(l).hoverStop&&e(j)&&e(Z)),H=a(()=>e(l).openTouch),te=a(()=>e(l).isSingleRemUnit?parseInt(window.getComputedStyle(document.documentElement,null).fontSize):1),q=a(()=>e(l).singleWidth*e(te)),P=a(()=>e(l).singleHeight*e(te)),p=a(()=>{let n,o=e(l).step;if(e(O)?n=e(q):n=e(P),n>0&&n%o>0)throw"\u5982\u679C\u8BBE\u7F6E\u4E86\u5355\u6B65\u6EDA\u52A8\uFF0Cstep\u9700\u662F\u5355\u6B65\u5927\u5C0F\u7684\u7EA6\u6570\uFF0C\u5426\u5219\u65E0\u6CD5\u4FDD\u8BC1\u5355\u6B65\u6EDA\u52A8\u7ED3\u675F\u7684\u4F4D\u7F6E\u662F\u5426\u51C6\u786E";return o});function me(){t.value=0,i.value=0,F(),ie()}function he(){if(!!e(J)){if(Math.abs(e(t))<e(l).switchSingleStep){t.value=0;return}t.value+=e(l).switchSingleStep}}function de(){if(!!e(K)){if(e(A)-e(g)+e(t)<e(l).switchSingleStep){t.value=e(g)-e(A);return}t.value-=e(l).switchSingleStep}}function F(){cancelAnimationFrame(N||"")}function pe(n){if(!e(H))return;let o;const s=n.targetTouches[0],{waitTime:d,singleHeight:T,singleWidth:Fe}=e(l);x={x:s.pageX,y:s.pageY},I=e(i),U=e(t),!!T&&!!Fe?(o&&clearTimeout(o),o=setTimeout(()=>{F()},d+20)):F()}function we(n){if(!e(H)||n.targetTouches.length>1||n.scale&&n.scale!==1)return;const o=n.targetTouches[0],{direction:s}=e(l);let d={x:o.pageX-x.x,y:o.pageY-x.y};n.preventDefault();const T=Math.abs(d.x)<Math.abs(d.y)?1:0;T===1&&s==="bottom"||T===1&&s==="top"?i.value=I+d.y:(T===0&&s==="left"||T===0&&s==="right")&&(t.value=U+d.x)}function ve(){if(!e(H))return;let n;const o=e(l).direction;if(f.value=50,o==="top")e(i)>0&&(i.value=0);else if(o==="bottom"){let s=e(E)/2*-1;e(i)<s&&(i.value=s)}else if(o==="left")e(t)>0&&(t.value=0);else if(o==="right"){let s=e(A)*-1;e(t)<s&&(t.value=s)}n&&clearTimeout(n),n=setTimeout(()=>{f.value=0,w()},e(f))}function ge(){e(ee)&&be()}function ye(){e(ee)&&Se()}function w(){B||(N=requestAnimationFrame(function(){const n=e(E)/2,o=e(A)/2;let{direction:s,waitTime:d}=e(l);s==="top"?(Math.abs(e(i))>=n&&(u("scrollEnd"),i.value=0),i.value-=p.value):s==="bottom"?(e(i)>=0&&(u("scrollEnd"),i.value=n*-1),i.value+=p.value):s==="left"?(Math.abs(e(t))>=o&&(u("scrollEnd"),t.value=0),t.value-=p.value):s==="right"&&(e(t)>=0&&(u("scrollEnd"),t.value=o*-1),t.value+=p.value),y&&clearTimeout(y),e(P)?Math.abs(e(i))%e(P)<e(p)?y=setTimeout(()=>{w()},d):w():e(q)&&Math.abs(e(t))%e(q)<e(p)?y=setTimeout(()=>{w()},d):w()}))}function ie(){Ee(()=>{const{switchDelay:n}=e(l);if(k.value="",e(O)){b.value=e(X).offsetHeight,g.value=e(X).offsetWidth;let o=e(V).offsetWidth;e(j)&&(o=o*2+1),e(G).style.width=o+"px",A.value=o}if(e(j))D="ease-in",f.value=0;else{D="linear",f.value=n;return}e(Z)?(k.value=e(V).innerHTML,setTimeout(()=>{E.value=e(G).offsetHeight,w()},0)):(F(),i.value=t.value=0)})}function Se(){B=!1,w()}function be(){B=!0,y&&clearTimeout(y),F()}function Ae(n){n.preventDefault(),!(e(l).direction==="left"||e(l).direction==="right")&&ke(()=>{n.deltaY>0?i.value-=p.value:i.value+=p.value},50)()}return Ce(()=>{ie()}),Me(()=>{F(),clearTimeout(y)}),m({reset:me}),(n,o)=>(W(),z("div",{ref:"wrap"+e(h).key},[e($)?(W(),z("div",{key:0,style:M(e(ue)),class:ne(e(re)),onClick:he},[L(n.$slots,"left-switch")],6)):le("",!0),e($)?(W(),z("div",{key:1,style:M(e(ce)),class:ne(e(se)),onClick:de},[L(n.$slots,"right-switch")],6)):le("",!0),_("div",{ref:"realBox"+e(h).key,style:M(e(fe)),onMouseenter:ge,onMouseleave:ye,onTouchstart:pe,onTouchmove:we,onTouchend:ve,onMousewheel:Ae},[_("div",{ref:"slotList"+e(h).key,style:M(e(Q))},[L(n.$slots,"default")],4),_("div",{innerHTML:e(k),style:M(e(Q))},null,12,Oe)],36)],512))}}),je=Object.assign(Y,{install(r){r.component(Y.name,Y)}});export{je as R};
